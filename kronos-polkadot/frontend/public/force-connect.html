<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>å¼ºåˆ¶é’±åŒ…è¿æ¥æµ‹è¯• - Kronos</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            background: #1a1a1a; 
            color: #fff; 
            padding: 20px; 
            max-width: 1200px; 
            margin: 0 auto;
        }
        .box { 
            background: #2a2a2a; 
            padding: 20px; 
            margin: 15px 0; 
            border-radius: 8px; 
            border-left: 4px solid #E6007A;
        }
        .success { border-left-color: #28a745; background: #1a3d1a; }
        .error { border-left-color: #dc3545; background: #3d1a1a; }
        .warning { border-left-color: #ffc107; background: #3d3d1a; }
        button {
            background: #E6007A;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 5px;
            cursor: pointer;
            margin: 10px 5px;
            font-size: 16px;
        }
        button:hover { background: #c00066; }
        pre {
            background: #0a0a0a;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            color: #0f0;
        }
        h1 { color: #E6007A; }
        h2 { color: #00B2FF; margin-top: 30px; }
    </style>
</head>
<body>
    <h1>ğŸ”§ å¼ºåˆ¶é’±åŒ…è¿æ¥æµ‹è¯•å·¥å…·</h1>
    <p>ä¸“é—¨ç”¨äºè§£å†³"å·²åˆ›å»ºè´¦æˆ·ä½†æ— æ³•æ£€æµ‹"çš„é—®é¢˜</p>

    <div style="margin: 20px 0;">
        <button onclick="step1()">æ­¥éª¤1ï¼šæ£€æŸ¥é’±åŒ…</button>
        <button onclick="step2()">æ­¥éª¤2ï¼šå¼ºåˆ¶å¯ç”¨</button>
        <button onclick="step3()">æ­¥éª¤3ï¼šè·å–è´¦æˆ·</button>
        <button onclick="runAll()">ğŸš€ ä¸€é”®å®Œæ•´æµ‹è¯•</button>
        <button onclick="location.reload()">ğŸ”„ åˆ·æ–°é¡µé¢</button>
    </div>

    <div id="output"></div>

    <script type="module">
        const output = document.getElementById('output');
        let allAccounts = [];

        function log(msg, type = 'info') {
            const div = document.createElement('div');
            div.className = 'box ' + type;
            div.innerHTML = msg;
            output.appendChild(div);
        }

        function code(text) {
            const pre = document.createElement('pre');
            pre.textContent = text;
            output.appendChild(pre);
        }

        // æ­¥éª¤1ï¼šæ£€æŸ¥æ‰€æœ‰å¯èƒ½çš„é’±åŒ…å¯¹è±¡
        window.step1 = function() {
            output.innerHTML = '<h2>æ­¥éª¤1ï¼šæ£€æŸ¥é’±åŒ…å¯¹è±¡</h2>';
            
            log('æ­£åœ¨æ£€æŸ¥ window å¯¹è±¡ä¸­çš„é’±åŒ…...', 'info');
            
            const walletChecks = [
                { name: 'injectedWeb3', key: 'injectedWeb3' },
                { name: 'Polkadot.js', key: 'polkadot' },
                { name: 'OKX', key: 'okxwallet' },
                { name: 'SubWallet', key: 'SubWallet' },
                { name: 'Talisman', key: 'talismanEth' }
            ];

            let found = [];
            
            walletChecks.forEach(check => {
                if (typeof window[check.key] !== 'undefined') {
                    log(`âœ… æ£€æµ‹åˆ°: ${check.name} (window.${check.key})`, 'success');
                    found.push(check.name);
                } else {
                    log(`âŒ æœªæ£€æµ‹åˆ°: ${check.name}`, 'error');
                }
            });

            if (window.injectedWeb3) {
                const keys = Object.keys(window.injectedWeb3);
                code(`injectedWeb3 åŒ…å«çš„é’±åŒ…ï¼š\n${keys.join('\n')}`);
            }

            if (found.length === 0) {
                log('âŒ æ²¡æœ‰æ£€æµ‹åˆ°ä»»ä½•é’±åŒ…å¯¹è±¡ï¼<br><br><strong>è§£å†³æ–¹æ³•ï¼š</strong><ol><li>ç¡®ä¿é’±åŒ…æ‰©å±•å·²å®‰è£…ä¸”å¯ç”¨</li><li>è®¿é—® chrome://extensions/ æ£€æŸ¥</li><li>åˆ·æ–°æ­¤é¡µé¢</li></ol>', 'error');
            } else {
                log(`âœ… æ€»å…±æ£€æµ‹åˆ° ${found.length} ä¸ªé’±åŒ…å¯¹è±¡`, 'success');
            }
        };

        // æ­¥éª¤2ï¼šå¼ºåˆ¶å¯ç”¨æ‰©å±•
        window.step2 = async function() {
            output.innerHTML = '<h2>æ­¥éª¤2ï¼šå¼ºåˆ¶å¯ç”¨ Polkadot æ‰©å±•</h2>';
            
            try {
                log('å¯¼å…¥ Polkadot åº“...', 'info');
                const { web3Enable } = await import('https://cdn.jsdelivr.net/npm/@polkadot/extension-dapp@0.46.6/+esm');
                
                log('è°ƒç”¨ web3Enableï¼ˆå¼ºåˆ¶æˆæƒï¼‰...', 'info');
                const extensions = await web3Enable('Kronos Force Connect');
                
                if (extensions.length === 0) {
                    log('âŒ æ²¡æœ‰æ‰©å±•å“åº”<br><br><strong>å¯èƒ½åŸå› ï¼š</strong><ul><li>é’±åŒ…æ‰©å±•æœªå®‰è£…</li><li>æ‰©å±•è¢«ç¦ç”¨</li><li>æµè§ˆå™¨ä¸æ”¯æŒ</li></ul><br><strong>è§£å†³ï¼š</strong><ul><li>æ£€æŸ¥ chrome://extensions/</li><li>ç¡®ä¿æ‰©å±•å·²å¯ç”¨ï¼ˆå¼€å…³æ˜¯è“è‰²ï¼‰</li><li>é‡å¯æµè§ˆå™¨</li></ul>', 'error');
                    return;
                }

                log(`âœ… æˆåŠŸï¼${extensions.length} ä¸ªæ‰©å±•å·²å¯ç”¨`, 'success');
                
                extensions.forEach((ext, i) => {
                    code(`æ‰©å±• ${i+1}:\n  åç§°: ${ext.name}\n  ç‰ˆæœ¬: ${ext.version}\n  ç±»å‹: ${ext.type || 'æ ‡å‡†'}`);
                });

                log('âœ… æ‰©å±•é€šä¿¡æ­£å¸¸ï¼Œè¯·ç»§ç»­æ­¥éª¤3', 'success');
                
            } catch (error) {
                log(`âŒ é”™è¯¯: ${error.message}<br><br>${error.stack}`, 'error');
            }
        };

        // æ­¥éª¤3ï¼šè·å–è´¦æˆ·
        window.step3 = async function() {
            output.innerHTML = '<h2>æ­¥éª¤3ï¼šå¼ºåˆ¶è·å–è´¦æˆ·åˆ—è¡¨</h2>';
            
            try {
                const { web3Enable, web3Accounts } = await import('https://cdn.jsdelivr.net/npm/@polkadot/extension-dapp@0.46.6/+esm');
                
                log('å¯ç”¨æ‰©å±•...', 'info');
                const extensions = await web3Enable('Kronos Account Check');
                log(`âœ… ${extensions.length} ä¸ªæ‰©å±•å·²å¯ç”¨`, 'success');

                log('è·å–è´¦æˆ·åˆ—è¡¨...', 'info');
                const accounts = await web3Accounts();
                
                allAccounts = accounts;

                if (accounts.length === 0) {
                    log('âŒ æ‰¾åˆ° 0 ä¸ªè´¦æˆ·<br><br><strong>è¿™æ„å‘³ç€ï¼š</strong>', 'error');
                    
                    const hasPolkadotJS = extensions.some(e => e.name.includes('polkadot-js'));
                    const hasOKX = extensions.some(e => e.name.toLowerCase().includes('okx'));

                    if (hasOKX) {
                        log(`<strong>ğŸŸ  æ£€æµ‹åˆ° OKX Wallet</strong><br><br>
                            <strong style="color: #ffc107;">æœ€å¯èƒ½çš„åŸå› ï¼šæ‚¨åœ¨ä»¥å¤ªåŠç½‘ç»œä¸Šï¼</strong><br><br>
                            <strong>ç«‹å³ä¿®å¤ï¼š</strong>
                            <ol>
                                <li>æ‰“å¼€ OKX Wallet æ‰©å±•</li>
                                <li>æŸ¥çœ‹é¡¶éƒ¨æ˜¾ç¤ºä»€ä¹ˆç½‘ç»œ</li>
                                <li>å¦‚æœæ˜¯ "Ethereum Mainnet" â†’ è¿™å°±æ˜¯é—®é¢˜ï¼</li>
                                <li>ç‚¹å‡»ç½‘ç»œåç§°</li>
                                <li>æœç´¢æ¡†è¾“å…¥ï¼š<strong>Polkadot</strong></li>
                                <li>é€‰æ‹© <strong>Polkadot</strong> æˆ– <strong>Westend</strong></li>
                                <li>ç¡®è®¤é¡¶éƒ¨å˜æˆ "Polkadot"</li>
                                <li>åœ°å€ä» 0x... å˜æˆ 5...</li>
                                <li>åˆ·æ–°æ­¤é¡µé¢é‡æ–°æµ‹è¯•</li>
                            </ol>`, 'warning');
                    }

                    if (hasPolkadotJS) {
                        log(`<strong>ğŸ”´ æ£€æµ‹åˆ° Polkadot.js</strong><br><br>
                            <strong>è´¦æˆ·ç¡®å®ä¸å­˜åœ¨ï¼Œéœ€è¦åˆ›å»ºï¼š</strong>
                            <ol>
                                <li>ç‚¹å‡»æµè§ˆå™¨å³ä¸Šè§’çº¢è‰²åœ†ç‚¹å›¾æ ‡</li>
                                <li>ç‚¹å‡» [+] åŠ å·æŒ‰é’®</li>
                                <li>é€‰æ‹© "Create new account"</li>
                                <li>ç”¨çº¸ç¬”æŠ„å†™ 12 ä¸ªåŠ©è®°è¯</li>
                                <li>è®¾ç½®è´¦æˆ·åå’Œå¯†ç </li>
                                <li>åˆ›å»ºå®Œæˆååˆ·æ–°æ­¤é¡µé¢</li>
                            </ol>`, 'warning');
                    }

                    if (!hasPolkadotJS && !hasOKX) {
                        log('æœªæ£€æµ‹åˆ°å¸¸è§é’±åŒ…ã€‚è¯·ç¡®ä¿å·²å®‰è£… Polkadot.js æˆ– OKX Walletã€‚', 'error');
                    }

                    return;
                }

                // æ‰¾åˆ°è´¦æˆ·äº†ï¼
                log(`ğŸ‰ å¤ªå¥½äº†ï¼æ‰¾åˆ° ${accounts.length} ä¸ªè´¦æˆ·`, 'success');

                accounts.forEach((acc, i) => {
                    const isPolkadot = acc.address.startsWith('5');
                    const networkType = isPolkadot ? 'Polkadot âœ…' : 'å…¶ä»–ç½‘ç»œ âš ï¸';
                    
                    code(`è´¦æˆ· ${i+1}:
  åç§°: ${acc.meta.name || 'æœªå‘½å'}
  åœ°å€: ${acc.address}
  æ¥æº: ${acc.meta.source}
  ç½‘ç»œ: ${networkType}
  åœ°å€ç±»å‹: ${acc.type || 'æœªçŸ¥'}`);

                    if (!isPolkadot) {
                        log(`âš ï¸ è´¦æˆ· "${acc.meta.name}" ä¸æ˜¯ Polkadot åœ°å€ï¼<br>åœ°å€åº”è¯¥ä»¥ 5 å¼€å¤´ï¼Œå½“å‰æ˜¯ ${acc.address.substring(0, 2)}å¼€å¤´ã€‚<br><br>å¦‚æœè¿™æ˜¯ OKX è´¦æˆ·ï¼Œè¯·åˆ‡æ¢åˆ° Polkadot ç½‘ç»œã€‚`, 'warning');
                    }
                });

                const polkadotAccounts = accounts.filter(a => a.address.startsWith('5'));
                
                if (polkadotAccounts.length > 0) {
                    log(`<h3>âœ… æ£€æµ‹ç»“æœï¼šå®Œç¾ï¼</h3>
                        <p>æ‰¾åˆ° ${polkadotAccounts.length} ä¸ª Polkadot è´¦æˆ·ï¼Œå¯ä»¥æ­£å¸¸ä½¿ç”¨ï¼</p>
                        <br>
                        <strong>ä¸‹ä¸€æ­¥ï¼š</strong>
                        <ol>
                            <li>è¿”å› Kronos DApp: <a href="http://localhost:3000" style="color: #00ff00;">http://localhost:3000</a></li>
                            <li>æŒ‰ <strong>Ctrl + Shift + R</strong> å¼ºåˆ¶åˆ·æ–°</li>
                            <li>ç‚¹å‡» "Connect Wallet"</li>
                            <li>åº”è¯¥èƒ½çœ‹åˆ°æ‚¨çš„è´¦æˆ·äº†</li>
                        </ol>
                        <br>
                        <a href="http://localhost:3000" style="display: inline-block; background: #28a745; color: white; padding: 15px 30px; text-decoration: none; border-radius: 5px; font-weight: bold;">
                            è¿”å› Kronos DApp â†’
                        </a>`, 'success');
                } else {
                    log('âš ï¸ æœ‰è´¦æˆ·ï¼Œä½†éƒ½ä¸æ˜¯ Polkadot æ ¼å¼<br>è¯·åˆ‡æ¢é’±åŒ…ç½‘ç»œåˆ° Polkadot', 'warning');
                }

            } catch (error) {
                log(`âŒ é”™è¯¯: ${error.message}`, 'error');
                code(error.stack);
            }
        };

        // ä¸€é”®å®Œæ•´æµ‹è¯•
        window.runAll = async function() {
            output.innerHTML = '<h2>ğŸš€ å®Œæ•´æµ‹è¯•æµç¨‹</h2>';
            
            try {
                // Test 1
                log('[1/5] æ£€æŸ¥æµè§ˆå™¨ç¯å¢ƒ...', 'info');
                code(`æµè§ˆå™¨: ${navigator.userAgent.split('(')[1].split(')')[0]}
URL: ${window.location.href}
æ—¶é—´: ${new Date().toLocaleString()}`);

                // Test 2
                log('[2/5] æ£€æŸ¥é’±åŒ…å¯¹è±¡...', 'info');
                
                const walletObjects = [];
                if (window.injectedWeb3) {
                    const keys = Object.keys(window.injectedWeb3);
                    walletObjects.push(...keys);
                    log(`âœ… injectedWeb3: ${keys.join(', ')}`, 'success');
                } else {
                    log('âŒ injectedWeb3 ä¸å­˜åœ¨', 'error');
                }

                // Test 3
                log('[3/5] å¯¼å…¥ Polkadot åº“...', 'info');
                const { web3Enable, web3Accounts, isWeb3Injected } = 
                    await import('https://cdn.jsdelivr.net/npm/@polkadot/extension-dapp@0.46.6/+esm');
                
                log('âœ… Polkadot åº“åŠ è½½æˆåŠŸ', 'success');

                // Test 4
                log('[4/5] å¯ç”¨æ‰©å±•å¹¶è¯·æ±‚æˆæƒ...', 'info');
                log('â³ è¯·åœ¨é’±åŒ…å¼¹çª—ä¸­ç‚¹å‡»"å…è®¸"...', 'warning');
                
                const extensions = await web3Enable('Kronos Force Test');
                
                if (extensions.length === 0) {
                    log('âŒ æ²¡æœ‰æ‰©å±•å“åº”ï¼<br><br><strong>è¯·æ£€æŸ¥ï¼š</strong><ol><li>é’±åŒ…æ‰©å±•æ˜¯å¦å·²å®‰è£…</li><li>æ‰©å±•æ˜¯å¦å·²å¯ç”¨</li><li>æ˜¯å¦å…è®¸äº†å¼¹çª—</li></ol>', 'error');
                    return;
                }

                log(`âœ… ${extensions.length} ä¸ªæ‰©å±•å·²å“åº”`, 'success');
                extensions.forEach(ext => {
                    code(`æ‰©å±•: ${ext.name}\nç‰ˆæœ¬: ${ext.version}`);
                });

                // Test 5
                log('[5/5] å¼ºåˆ¶è·å–æ‰€æœ‰è´¦æˆ·...', 'info');
                
                const accounts = await web3Accounts();
                allAccounts = accounts;
                
                log(`<strong>ç»“æœï¼šæ‰¾åˆ° ${accounts.length} ä¸ªè´¦æˆ·</strong>`, accounts.length > 0 ? 'success' : 'error');

                if (accounts.length === 0) {
                    log(`<div style="padding: 20px; background: #3d1a1a; border-radius: 8px;">
                        <h3>âŒ ç¡®è®¤ï¼šæ‚¨çš„é’±åŒ…ä¸­çœŸçš„æ²¡æœ‰è´¦æˆ·ï¼</h3>
                        <p>å³ä½¿æ‚¨è§‰å¾—å·²ç»åˆ›å»ºäº†ï¼Œä½†ç¨‹åºç¡®å®æ£€æµ‹ä¸åˆ°ã€‚</p>
                        <br>
                        <strong>æœ€å¯èƒ½çš„åŸå› ï¼ˆæŒ‰æ¦‚ç‡æ’åºï¼‰ï¼š</strong>
                        <ol style="line-height: 2;">
                            <li><strong>90%ï¼š(OKXç”¨æˆ·) æ‚¨åœ¨ä»¥å¤ªåŠç½‘ç»œä¸Šåˆ›å»ºçš„è´¦æˆ·</strong><br>
                                â†’ å¿…é¡»åˆ‡æ¢åˆ° Polkadot ç½‘ç»œ<br>
                                â†’ OKX é¡¶éƒ¨ç‚¹å‡»ç½‘ç»œ â†’ æœç´¢ Polkadot â†’ åˆ‡æ¢</li>
                            
                            <li><strong>5%ï¼šè´¦æˆ·åˆ›å»ºæœªå®Œæˆ</strong><br>
                                â†’ é‡æ–°æ‰“å¼€é’±åŒ…æ‰©å±•æ£€æŸ¥<br>
                                â†’ ç¡®è®¤èƒ½çœ‹åˆ°è´¦æˆ·åˆ—è¡¨</li>
                            
                            <li><strong>3%ï¼šé’±åŒ…æ‰©å±•æƒé™é—®é¢˜</strong><br>
                                â†’ chrome://extensions/ â†’ æ£€æŸ¥æƒé™<br>
                                â†’ å…è®¸è®¿é—®æ‰€æœ‰ç½‘ç«™</li>
                            
                            <li><strong>2%ï¼šæµè§ˆå™¨ç¼“å­˜</strong><br>
                                â†’ Ctrl + Shift + R å¼ºåˆ¶åˆ·æ–°<br>
                                â†’ æˆ–æ¸…é™¤ç¼“å­˜</li>
                        </ol>
                        <br>
                        <strong>ç«‹å³æ£€æŸ¥ï¼š</strong>
                        <ul>
                            <li>æ‰“å¼€æ‚¨çš„é’±åŒ…æ‰©å±•</li>
                            <li>èƒ½çœ‹åˆ°è´¦æˆ·å—ï¼Ÿ</li>
                            <li>è´¦æˆ·åœ°å€æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ</li>
                            <li>å¦‚æœæ˜¯ 0x å¼€å¤´ â†’ ä»¥å¤ªåŠè´¦æˆ·ï¼Œéœ€è¦åˆ‡æ¢</li>
                            <li>å¦‚æœæ˜¯ 5 å¼€å¤´ â†’ Polkadot è´¦æˆ·ï¼Œæ­£ç¡®</li>
                        </ul>
                    </div>`, 'error');
                } else {
                    log('<h3>ğŸ‰ æˆåŠŸï¼æ‰¾åˆ°è´¦æˆ·äº†ï¼</h3>', 'success');
                    
                    accounts.forEach((acc, i) => {
                        const isPolkadot = acc.address.startsWith('5');
                        code(`è´¦æˆ· ${i+1}:
åç§°: ${acc.meta.name || 'æœªå‘½å'}
åœ°å€: ${acc.address}
æ¥æº: ${acc.meta.source}
ç½‘ç»œ: ${isPolkadot ? 'Polkadot âœ…' : 'éPolkadot âš ï¸'}
åœ°å€æ ¼å¼: ${acc.address.substring(0, 2)}å¼€å¤´`);

                        if (!isPolkadot) {
                            log(`âš ï¸ è­¦å‘Šï¼šè´¦æˆ· "${acc.meta.name}" ä¸æ˜¯ Polkadot åœ°å€ï¼<br>éœ€è¦åˆ‡æ¢ç½‘ç»œåˆ° Polkadotã€‚`, 'warning');
                        }
                    });

                    const polkadotAccounts = accounts.filter(a => a.address.startsWith('5'));
                    
                    if (polkadotAccounts.length > 0) {
                        log(`<div style="padding: 20px; background: #1a3d1a; border-radius: 8px;">
                            <h3>âœ…âœ…âœ… å®Œç¾ï¼æ£€æµ‹æˆåŠŸï¼âœ…âœ…âœ…</h3>
                            <p>æ‰¾åˆ° ${polkadotAccounts.length} ä¸ª Polkadot è´¦æˆ·ï¼Œå®Œå…¨æ­£å¸¸ï¼</p>
                            <br>
                            <strong>å¦‚æœ Kronos DApp è¿˜æ˜¯æ— æ³•è¿æ¥ï¼Œè¯·ï¼š</strong>
                            <ol>
                                <li><strong>å¼ºåˆ¶åˆ·æ–° DApp é¡µé¢</strong>
                                    <ul>
                                        <li>åœ¨ DApp é¡µé¢æŒ‰ <strong>Ctrl + Shift + R</strong></li>
                                        <li>æˆ– Ctrl + F5</li>
                                    </ul>
                                </li>
                                <li><strong>æ¸…é™¤æµè§ˆå™¨ç¼“å­˜</strong>
                                    <ul>
                                        <li>Ctrl + Shift + Delete</li>
                                        <li>å‹¾é€‰"ç¼“å­˜çš„å›¾ç‰‡å’Œæ–‡ä»¶"</li>
                                        <li>ç‚¹å‡»"æ¸…é™¤æ•°æ®"</li>
                                    </ul>
                                </li>
                                <li><strong>é‡å¯æµè§ˆå™¨</strong>
                                    <ul>
                                        <li>å®Œå…¨å…³é—­æ‰€æœ‰æµè§ˆå™¨çª—å£</li>
                                        <li>é‡æ–°æ‰“å¼€</li>
                                        <li>è®¿é—® http://localhost:3000</li>
                                    </ul>
                                </li>
                                <li><strong>æ£€æŸ¥é’±åŒ…æƒé™</strong>
                                    <ul>
                                        <li>æ‰“å¼€é’±åŒ…æ‰©å±•è®¾ç½®</li>
                                        <li>æŸ¥çœ‹"Connected Sites"</li>
                                        <li>ç¡®ä¿ localhost è¢«å…è®¸</li>
                                    </ul>
                                </li>
                            </ol>
                            <br>
                            <a href="http://localhost:3000" style="display: inline-block; background: #28a745; color: white; padding: 15px 40px; text-decoration: none; border-radius: 8px; font-weight: bold; font-size: 1.1em;">
                                è¿”å› Kronos DAppï¼ˆè®°å¾—å¼ºåˆ¶åˆ·æ–°ï¼ï¼‰
                            </a>
                        </div>`, 'success');
                    } else {
                        log('æ‰€æœ‰è´¦æˆ·éƒ½ä¸æ˜¯ Polkadot æ ¼å¼<br>è¯·åœ¨é’±åŒ…ä¸­åˆ‡æ¢åˆ° Polkadot ç½‘ç»œ', 'warning');
                    }
                }

            } catch (error) {
                log(`âŒ é”™è¯¯: ${error.message}`, 'error');
                code(error.stack);
            }
        };

        // ä¸€é”®è¿è¡Œæ‰€æœ‰æµ‹è¯•
        window.runAll = async function() {
            output.innerHTML = '';
            
            log('<h2>ğŸš€ å¼€å§‹å®Œæ•´è¯Šæ–­ï¼ˆè¯·è€å¿ƒç­‰å¾…ï¼‰</h2>', 'info');
            
            await new Promise(r => setTimeout(r, 500));
            await step1();
            
            await new Promise(r => setTimeout(r, 1000));
            await step2();
            
            await new Promise(r => setTimeout(r, 1000));
            await step3();
            
            log('<h2>âœ… è¯Šæ–­å®Œæˆ</h2>', 'success');
        };

        // è‡ªåŠ¨è¿è¡Œ
        window.addEventListener('load', () => {
            setTimeout(() => {
                log('<div style="background: #3d3d1a; padding: 20px; border-radius: 8px;"><h3>âš¡ è‡ªåŠ¨è¯Šæ–­å°†åœ¨ 3 ç§’åå¼€å§‹...</h3><p>æˆ–ç‚¹å‡»ä¸Šæ–¹æŒ‰é’®æ‰‹åŠ¨è¿è¡Œ</p></div>', 'warning');
                
                setTimeout(() => {
                    runAll();
                }, 3000);
            }, 500);
        });
    </script>
</body>
</html>

